# 技能文档规范审核报告

**审核日期：** 2026-02-10
**审核人：** skill-docs-specialist
**审核标准：** writing-skills 规范

---

## 执行摘要

审核了6个技能文档，发现 **所有文档都存在不同程度的规范问题**。主要问题集中在：

1. **Description 字段违反规范** - 混合"做什么"和"何时用"，包含流程总结
2. **缺少标准结构** - 缺少"Common Mistakes"等必要章节
3. **Token 效率低** - 部分文档过长，影响加载性能
4. **中文内容未明确标注** - 违反"说明文案必须为中文"的规定

---

## 1. script2animation/SKILL.md

### 关键问题

#### ❌ 严重：Description 违反 CSO 原则

**当前内容（280字符）：**
```yaml
description: Generate an offline macOS Terminal-style HTML animation (typing, scenes, scene switch + replay/pause) that demonstrates how to use a local script. Use when the user asks to create a terminal animation/tutorial from a script file (.py/.sh/.R/.do), with accurate parameters and outputs derived from the script itself.
```

**问题：**
1. 混合了"做什么"（Generate...）和"何时用"（Use when...）
2. 包含技术细节（typing, scenes, replay/pause），违反"只描述触发条件"原则
3. 长度虽未超限但可精简

**修复建议：**
```yaml
description: Use when the user asks to create a terminal animation or tutorial from a script file (.py/.sh/.R/.do), or needs to demonstrate script usage with visual effects.
```

#### ⚠️ 中等：文档过长影响性能

**当前：** 119 行，约 2800 字

**问题：**
- 超过推荐的 500 词（约 50-60 行）
- 详细的设计规范占大量篇幅
- 可影响频繁加载时的 token 消耗

**改进建议：**
1. 将"设计基调"和"固定呈现样式"移至独立参考文档
2. SKILL.md 只保留核心工作流和关键规范
3. 使用引用：`详见 references/design_guidelines.md`

#### ⚠️ 中等：缺少标准结构

**缺失章节：**
- ❌ Common Mistakes（常见错误）
- ❌ Real-World Impact（可选，但建议添加）

**建议添加：**
```markdown
## Common Mistakes

### ❌ 使用绝对路径
问题：在示例中使用绝对路径导致不可移植
修复：统一使用相对路径，在说明区标注基准目录

### ❌ 终端底色使用纯黑
问题：使用 `#000` 或 `#111` 导致失去墨绿质感
修复：使用 `#071009` 和 `#061008` 渐变叠加光晕
```

---

## 2. abs-journal/SKILL.md

### 关键问题

#### ❌ 严重：Description 过长且包含流程细节

**当前内容（318字符）：**
```yaml
description: Use when user asks to recommend academic journals for paper submission, or needs to update the ABS/AJG journal database. Triggers include "推荐期刊", "投稿建议", "journal recommendation", "ABS评级", "AJG评级", "更新数据库", "update database".
```

**问题：**
1. 长度适中但包含"Triggers include"列表，违反 CSO 原则
2. 混合中英文关键词，增加理解成本
3. 提到"更新数据库"属于流程细节

**修复建议：**
```yaml
description: Use when users need academic journal recommendations for paper submission, or request to update the ABS/AJG journal database ratings.
```

#### ✅ 优秀：文档结构清晰

**优点：**
- Core Rules 明确
- 参数职责分离清晰
- Quick Start 可操作性强
- Workflow 分层合理

#### ⚠️ 轻微：References 路径可优化

**当前：**
```markdown
- 抓取/更新 AJG 数据库（显式触发才运行）：`references/ajg_fetch.md`
```

**改进建议：**
使用更简洁的引用语法：
```markdown
## References

See `references/` for detailed guides:
- `ajg_fetch.md` - Database update workflow
- `abs_journal_recommend.md` - Recommendation algorithm
- `troubleshooting.md` - Common issues
```

---

## 3. pycli-color/SKILL.md

### 关键问题

#### ❌ 严重：Description 混合中英且过于技术化

**当前内容（143字符）：**
```yaml
description: 为 Python argparse CLI 提供统一的彩色 -h/--help 输出规范（选项青色加粗、metavar 黄色加粗，支持 NO_COLOR/FORCE_COLOR）。
```

**问题：**
1. 包含具体技术细节（青色、黄色、NO_COLOR）违反"只描述触发条件"原则
2. 纯中文描述，但未考虑国际化
3. 包含"提供...规范"属于"做什么"

**修复建议：**
```yaml
description: Use when writing Python CLI scripts with argparse and need unified colorful help output with NO_COLOR/FORCE_COLOR support.
```

#### ✅ 优秀：包含可复制提示词

**优点：**
- "给未来助手的可复制提示词"章节设计优秀
- 提供即用型模板，提高复用性
- 测试注释要求明确

#### ⚠️ 中等：缺少版本字段说明

**当前：**
```yaml
version: "1.0.0"
```

**问题：**
- writing-skills 规范未明确支持 version 字段
- 可能导致解析器兼容性问题

**建议：**
- 移除 version 字段，或
- 在文档内部注释说明版本管理方式

---

## 4. latex/SKILL.md

### 关键问题

#### ❌ 严重：Description 过长且混合触发和流程

**当前内容（213字符）：**
```yaml
description: Use when converting a PDF into AEA/经济研究/NAU/SCU LaTeX/Beamer via marker_extract.py + template + compile.py, extracting structured sections from marker outputs, or using those tools individually.
```

**问题：**
1. 包含技术流程（marker_extract.py + template + compile.py）
2. 混合中英文模板名称
3. 提到"using those tools individually"属于实现细节

**修复建议：**
```yaml
description: Use when converting PDFs to LaTeX/Beamer (AEA/经济研究/NAU/SCU templates) or extracting structured content from academic PDFs.
```

#### ⚠️ 中等：文档过长（281 行）

**问题：**
- 严重超过推荐的 500 词
- 包含大量命令示例和模板细节
- 可影响频繁加载时的性能

**改进建议：**
1. 将"单点功能"部分移至 `references/individual_tools.md`
2. 将"最小可运行示例"移至 `examples/nau_beamer.md`
3. SKILL.md 只保留：
   - Overview
   - 端到端流程（核心）
   - FAQ 入口
   - 检查清单

#### ✅ 优秀：结构完整

**优点：**
- 包含 FAQ、检查清单
- 公式处理策略明确
- 权限错误兜底设计周到

---

## 5. stata-sep/SKILL.md

### 关键问题

#### ❌ 严重：Description 包含完整工具列表

**当前内容（148字符）：**
```yaml
description: 通过 Stata-MCP 提供的工具和 agent 工作流完成 Stata 分析：安装配置、生成/追加 do 文件、运行 do、读取日志与文件、获取数据描述、查看 help、安装 ado 包、载入图像、创建目录；并包含 agent 模式与评估示例的渐进指引。
```

**问题：**
1. 纯中文，违反 CSO 的英文优先原则
2. 包含完整工具列表，属于"做什么"
3. "渐进指引"属于实现细节

**修复建议：**
```yaml
description: Use when working with Stata analysis through Stata-MCP tools, including do-file generation, execution, log reading, and data exploration.
```

#### ❌ 严重：References 路径使用绝对路径

**当前：**
```markdown
- 绝对路径：`/Users/lingguiwang/Skill-Seekers/Github/stata-sep/references/usage.md`。
```

**问题：**
1. 硬编码绝对路径导致文档不可移植
2. 违反技能文档的相对路径原则
3. 其他用户无法使用此路径

**修复建议：**
```markdown
## 参考资料（按需加载）
- `references/usage.md`：客户端配置、环境变量、最小命令速查
- `references/tools.md`：各工具参数与返回字段、常见坑
```

#### ⚠️ 中等：缺少中文内容标注

**问题：**
- 文档大量使用中文但未明确标注语言策略
- 与 script2animation 的"说明文案必须为中文"规范不一致

**建议添加：**
```markdown
## 语言策略

本文档面向中文用户，核心说明默认使用中文。技术术语和命令保持英文。
```

---

## 6. oh-my-opencode-update/SKILL.md

### 关键问题

#### ❌ 严重：Description 包含实现细节

**当前内容（269字符）：**
```yaml
description: Use when upgrading, reinstalling, or troubleshooting the oh-my-opencode plugin for opencode (OpenCode), especially when old caches/lockfiles/permissions cause the new version not to take effect; supports upgrading to latest or a pinned version with backup and verification.
```

**问题：**
1. "supports upgrading to latest or a pinned version" 属于功能描述
2. "with backup and verification" 是实现细节
3. 包含具体的故障场景（old caches/lockfiles/permissions）

**修复建议：**
```yaml
description: Use when upgrading, reinstalling, or troubleshooting the oh-my-opencode plugin, especially after permission errors or version conflicts.
```

#### ✅ 优秀：环境变量文档清晰

**优点：**
- 明确列出环境变量和默认值
- 提供自定义路径示例
- 路径说明完整

#### ⚠️ 轻微：缺少验收标准的位置说明

**当前：**
```markdown
## 验收（必须做）
```

**建议：**
将验收标准移至"Workflow"章节之后，作为流程的一部分：
```markdown
## Workflow

1. Dry-run（推荐）
2. 实际执行
3. **验收（必须）**
```

---

## 跨文档通用问题

### 1. Description 字段系统性违规

**所有6个文档都在 description 中混合了"做什么"和"何时用"**

**根本原因：**
- 未理解 CSO 的核心原则："Description = 触发条件，不等于功能说明"
- 过度追求完整性，将关键信息前置到 description

**统一修复原则：**
```yaml
# ❌ 错误模式
description: Generate X by doing A, B, C. Use when user wants D.

# ✅ 正确模式
description: Use when user wants D or encounters situation E.
```

### 2. 缺少"Common Mistakes"章节

**影响文档：** 5/6（仅 latex 有完整 FAQ）

**建议：**
所有技能文档都应包含此章节，用于：
1. 列出常见错误模式
2. 提供快速诊断
3. 防止未来重复犯错

### 3. Token 效率问题

**影响文档：** latex（281行）、script2animation（119行）

**建议：**
- 将详细参考移至 `references/` 目录
- SKILL.md 保持 50-80 行
- 使用引用而非内联大段内容

### 4. 语言策略不一致

**问题：**
- pycli-color：纯中文
- stata-sep：中英混排
- latex：英文为主
- script2animation：明确要求"说明文案必须为中文"

**建议：**
在项目根 CLAUDE.md 中明确语言策略：
```markdown
## 技能文档语言策略

- Description 字段：英文（国际化）
- 文档主体：根据目标用户选择（学术技能可中文）
- 代码示例：保持原语言
```

---

## 修复优先级

### P0（阻塞性问题，必须立即修复）

1. **stata-sep** - References 使用绝对路径（导致不可移植）
2. **所有文档** - Description 违反 CSO 原则（影响发现性）

### P1（重要问题，影响可用性）

1. **latex** - 文档过长（281行）需拆分
2. **script2animation** - 文档过长需拆分
3. **所有文档** - 添加"Common Mistakes"章节

### P2（改进建议，提升质量）

1. **pycli-color** - 移除或说明 version 字段
2. **stata-sep** - 明确语言策略
3. **oh-my-opencode-update** - 调整验收标准位置

---

## 推荐修复流程

### 阶段1：修复 P0 问题（1-2小时）

```bash
# 1. 修复 stata-sep 绝对路径
# 2. 重写所有文档的 description 字段
```

### 阶段2：文档重构（2-3小时）

```bash
# 1. 拆分 latex/SKILL.md（移至 references/）
# 2. 拆分 script2animation/SKILL.md
# 3. 为所有文档添加 Common Mistakes 章节
```

### 阶段3：质量提升（1小时）

```bash
# 1. 统一语言策略
# 2. 添加版本说明
# 3. 优化 token 效率
```

---

## 验收标准

修复完成后，每个文档应满足：

- [ ] Description < 200 字符，只包含触发条件
- [ ] 无绝对路径（除明确标注为示例）
- [ ] 包含 Common Mistakes 章节
- [ ] 文档长度 < 100 行（或明确理由）
- [ ] 语言策略一致
- [ ] YAML frontmatter 只包含 name 和 description

---

## 附录：参考资源

- **标准规范：** `~/.claude/plugins/cache/superpowers-marketplace/superpowers/4.2.0/skills/writing-skills/SKILL.md`
- **CSO 原则：** Description = When to Use, NOT What It Does
- **TDD 流程：** RED（基线测试）→ GREEN（写技能）→ REFACTOR（堵漏洞）
