## Context

`scripts/ajg_fetch.py` 负责抓取 AJG 并落地到本地文件。当前实现已经遵循安全约束：不在仓库中存储明文凭据，且仅从环境变量 `AJG_EMAIL` / `AJG_PASSWORD` 读取登录信息。在用户未设置环境变量时，脚本会抛出 `RuntimeError("缺少环境变量 AJG_EMAIL / AJG_PASSWORD")` 并退出。

该行为本身正确，但用户体验存在改进空间：错误提示缺少“如何正确设置环境变量/如何参考示例文件”的指引，容易让用户误以为是程序 bug，而不是配置缺失。并且脚本应明确“默认从环境变量加载凭据”这一契约，避免未来引入不安全的参数传递方式。

约束：
- 继续保持 stdlib-only，不引入第三方依赖；
- 不新增“命令行传递密码”的接口，避免泄露风险（shell history / ps 等）；
- 缺失凭据时仍使用非零退出码，但提供清晰、可复制的修复步骤。

## Goals / Non-Goals

**Goals:**
- 明确并固化：AJG 抓取脚本默认从 `AJG_EMAIL` / `AJG_PASSWORD` 环境变量加载凭据。
- 当环境变量缺失时，输出可操作的错误信息（包含变量名、示例 export 命令、示例 env 文件路径），降低排错成本。
- 文档中补充相同信息，确保命令行与 README 的指导一致。

**Non-Goals:**
- 不改变抓取逻辑本身（年份发现、登录、数据探测与落地）。
- 不引入交互式输入密码（避免在终端回显/日志中泄露），也不新增将密码写入文件的功能。
- 不尝试绕过验证码/权限等外部限制（不属于该问题范围）。

## Decisions

1) **保持“仅环境变量”作为凭据输入渠道**
- 决策：继续只读 `AJG_EMAIL` / `AJG_PASSWORD`，不提供 `--email/--password` 参数。
- 理由：命令行参数可能进入 shell history、进程列表等，泄露风险更高；环境变量虽也有风险，但在本项目约束下更可控且已被采用。
- 备选方案：从命令行读取密码（如 `--password` 或交互输入）。不采用，原因见上。

2) **缺失凭据时提供“可复制”的修复提示**
- 决策：在抛出错误前/错误信息中加入：
  - 必需变量名：`AJG_EMAIL`、`AJG_PASSWORD`
  - 示例命令：`export AJG_EMAIL="..."`、`export AJG_PASSWORD="..."`
  - 提示参考 `scripts/ajg_config.example.env`
- 理由：用户最常见问题是“忘记设置环境变量”；提示越具体越能减少来回沟通与误判。
- 备选方案：只给出“缺少环境变量”。不采用，信息不足。

3) **保持非零退出码，避免静默成功**
- 决策：缺失凭据时仍退出非零，保持失败语义明确。
- 理由：下游流程/自动化脚本需要依靠退出码判断成功与否。

## Risks / Trade-offs

- [错误信息过长影响可读性] → 将提示做成短段落 + 可复制命令块，保持简洁。
- [用户仍尝试用相对路径或在不同 shell 中运行导致变量不可见] → README 中强调“在同一终端会话 export”，并默认使用绝对路径示例。

