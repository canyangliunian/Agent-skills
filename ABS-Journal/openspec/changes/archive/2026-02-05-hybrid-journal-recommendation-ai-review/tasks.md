## 1. 候选池导出（脚本侧）

- [x] 1.1 为 `scripts/abs_article_impl.py` 增加“导出候选池”的输出能力（JSON 优先，包含：期刊名/ABS星级/field/fit-easy-value信号及其元信息）
- [x] 1.2 为统一 CLI `scripts/abs_journal.py recommend` 增加开关：启用混合流程时生成候选池（默认仍为脚本直出 Markdown）
- [x] 1.3 候选池条目加入稳定标识（例如 `journal_title + ajg_2024`，可选加入行号/哈希），用于后续校验
- [x] 1.4 在候选池输出中包含可追溯元信息（AJG CSV 路径/年份、候选池规模、生成参数）

## 2. AI 二次筛选与硬约束校验（AI 侧 + 校验侧）

- [x] 2.1 定义 AI 输入提示模板：明确“只能在候选池内选刊”，并要求输出固定列 `序号|期刊名|ABS星级|期刊主题`
- [x] 2.2 实现“候选池约束校验”：AI 输出的每条期刊必须能在候选池中精确匹配，否则报错并要求重试（禁止悄悄替换）
- [x] 2.3 为 `fit/easy/value` 三类分别生成 Top10（或用户指定 TopK），并在报告中展示候选池元信息

## 3. 汇报格式与用户约束支持

- [x] 3.1 支持用户给定星级约束（例如：fit=1/2/3，easy=1/2，value=3/4/4*）并在候选池生成阶段执行过滤
- [x] 3.2 报告输出统一为三段：Fit Top10 / Easy Top10 / Value Top10（每段固定列结构）
- [x] 3.3 在报告中标注“期刊主题”为 AI 解释性摘要（避免被误解为期刊官方范围/政策）

## 4. 最小回归验证（本仓库离线）

- [x] 4.1 增加最小回归脚本：给定 title/abstract，生成候选池 + 模拟 AI 输出（或使用占位 AI 输出），验证“候选池约束校验”可用
- [x] 4.2 增加断言：输出中所有期刊均来自候选池；输出列完整；三类各输出 TopK
- [x] 4.3 更新 `references/abs_journal_recommend.md`：新增混合流程用法与示例（绝对路径命令）
