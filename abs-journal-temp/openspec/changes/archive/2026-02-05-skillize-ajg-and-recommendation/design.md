## Context

当前仓库已具备两类核心能力：
1) 抓取 Chartered ABS Academic Journal Guide（AJG/ABS）并落地本地数据（`scripts/ajg_fetch.py` + `data/ajg_<year>_...`）。
2) 基于本地 AJG CSV 对论文进行投稿期刊推荐（现有实现位于 `ABS-article/skills/ABS-article/scripts/abs_article.py`）。

但仓库目前不是“单一 skill 包”的交付形态：脚本、skill、报告示例与数据分散在多个子目录中。目标是把**仓库根目录**重构为一个名为 `ABS-Journal` 的 skill：根目录具备 `scripts/`、`references/`、`assets/`、`SKILL.md`、`README.md`，并将抓取与推荐流程统一在该 skill 的工作流内。

关键产品约束（必须固化成决策）：
- 推荐默认使用现有本地数据进行计算与输出；
- 只有用户**明确提出**“更新/重新抓取/刷新 AJG/ABS 数据库”时，才运行抓取脚本并更新 `data/`；
- 保持安全约束：凭据仅来自环境变量（不在仓库中持久化明文凭据），并维持 stdlib-only 的抓取脚本设计；
- 默认使用绝对路径示例，减少工作目录变化导致的错误。

## Goals / Non-Goals

**Goals:**
- 将仓库根目录整理为单一 skill：`ABS-Journal`，并形成固定目录结构：
  - `scripts/`：抓取与推荐的可执行脚本入口（稳定、可调用）
  - `references/`：数据字段说明、常见故障排查、工作流提示等（按需加载）
  - `assets/`：模板、示例输出、截图/图标等（不常驻上下文）
  - `SKILL.md`：触发条件 + 最小工作流（默认推荐使用本地数据；显式更新才抓取）
  - `README.md`：人类可读最小使用说明（绝对路径示例、env、常见错误）
- 统一“推荐默认用本地数据”的交互策略与可执行入口：
  - 推荐脚本在未收到显式更新指令时，不触发网络抓取；
  - 更新动作必须显式触发（例如通过脚本参数 `--update` 或独立命令）。
- 提供最小可验证链路：
  - 离线校验：验证本地 `data/` 输出文件契约；
  - 推荐冒烟：在已有数据存在时可生成 Markdown 推荐报告。

**Non-Goals:**
- 不在本轮引入外部数据库或 Web 服务（保持脚本化/文件落地）。
- 不追求“抓取永远成功”（外部网站可能 gated/验证码）；目标是稳定失败模式与可诊断输出。
- 不在本轮引入复杂的包管理/发布系统（如 PyPI）；优先以 skill 包结构交付。

## Decisions

1) **根目录即 skill 包（而非嵌套在子目录）**
- 决策：直接将当前仓库根目录整理为 `ABS-Journal` skill 的标准结构。
- 理由：你的目标是“当前目录成为一个 skills”，因此以根目录作为 skill 最符合直觉与部署方式。
- 备选方案：在 `skills/ABS-Journal/` 下再放一层。缺点是与“当前目录即 skill”目标不符，且会增加路径复杂度。

2) **推荐默认使用本地数据；更新必须显式触发**
- 决策：推荐脚本默认只读取本地 AJG CSV；抓取更新通过独立脚本或显式 flag 触发。
- 理由：满足你提出的默认行为，避免不必要的网络访问与权限/验证码问题。
- 备选方案：每次推荐前自动更新。缺点是慢、不稳定且可能触发反爬。

3) **保留现有实现，逐步“搬迁 + 统一入口”**
- 决策：优先复用现有的 `scripts/ajg_fetch.py` 与推荐逻辑（`abs_article.py`），通过迁移/薄封装将入口归一到根目录的 `scripts/` 下。
- 理由：减少重写风险，确保功能持续可用。
- 备选方案：完全重写为单一脚本。缺点是引入不必要回归风险。

4) **SKILL.md 采用渐进式加载：把重内容放到 references/scripts**
- 决策：`SKILL.md` 仅包含触发条件、选择分支（推荐 vs 更新）、以及“如何调用 scripts”；字段/FAQ/示例输出放 `references/` 与 `assets/`。
- 理由：遵循 skill-creator 的“context window 公共资源”原则；降低触发时的上下文负担。

## Risks / Trade-offs

- [大量移动文件导致路径断裂] → 迁移时提供兼容入口（如保留旧脚本但转发/提示），并更新 README/SKILL.md 的绝对路径示例。
- [用户不清楚何时会更新数据] → 在 SKILL.md 明确“只有出现关键词：更新/重新抓取/刷新/更新数据库”等才更新，并在推荐输出中提示当前数据年份/更新时间（从 meta.json 读取）。
- [外部站点抓取不稳定] → 保持明确错误提示、退出码与 `progress.md/findings.md` 诊断记录；离线推荐不依赖外网。

